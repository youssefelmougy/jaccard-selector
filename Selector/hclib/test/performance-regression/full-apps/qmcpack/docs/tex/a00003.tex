To run Q\-M\-C\-P\-A\-C\-K using 8 threads\-: 
\begin{DoxyCode}
export OMP\_NUM\_THREADS=8
qmcpack/build/bin/qmcapp input.xml
\end{DoxyCode}


To use {\ttfamily mpirun} with 4 M\-P\-I tasks and 8 threads\-: 
\begin{DoxyCode}
export OMP\_NUM\_THREADS=8
mpirun -np 4 qmcpack/build/bin/qmcapp input.xml
\end{DoxyCode}


The argument {\ttfamily input.\-xml} is a main X\-M\-L input file for {\ttfamily bin/qmcapp} (main application of Q\-M\-C\-P\-A\-C\-K). It is a standard X\-M\-L file and handles essential parameters which have to be modified by the users and light-\/weight data to define the physical problem as clearly as possible. The large data associated with single-\/particle orbitals are usually generated by tools and stored in a {\tt H\-D\-F5} file for the portability and efficiency.

The input file, \doxyref{input.xml}{p.}{a00003_inputC} defines
\begin{DoxyItemize}
\item Project name for bookkeeping
\item Description of the physical system
\begin{DoxyItemize}
\item Electronic and/or ionic systems
\item Trial wavefunction
\item Hamiltonian
\end{DoxyItemize}
\item Q\-M\-C execution
\begin{DoxyItemize}
\item variance optimization using Linear method
\item energy optimization using Linear method
\item vmc
\item dmc
\end{DoxyItemize}
\end{DoxyItemize}

\label{a00003_inputC}%
Example input.\-xml 
\begin{DoxyCode}
<?xml version=\textcolor{stringliteral}{"1.0"}?>
<simulation>
  <project \textcolor{keywordtype}{id}=\textcolor{stringliteral}{"myproject"} series=\textcolor{stringliteral}{"0"}/>
  <include href=\textcolor{stringliteral}{"ptcl.xml"}/> <!-- include particlsets -->
  <include href=\textcolor{stringliteral}{"wfs.xml"}/>  <!-- include a trial wavefunction -->
  <include href=\textcolor{stringliteral}{"hamiltonian.xml"}/> <!-- include a Hamiltonian -->
  <loop max=\textcolor{stringliteral}{"4"}> <!-- perform optimization \textcolor{keyword}{using} linear, 4 iterations -->
   <qmc method=\textcolor{stringliteral}{"linear"} move=\textcolor{stringliteral}{"pbyp"} gpu=\textcolor{stringliteral}{"no"} checkpoint=\textcolor{stringliteral}{"-1"}>
      <parameter name=\textcolor{stringliteral}{"blocks"}>  20   </parameter>
      <parameter name=\textcolor{stringliteral}{"warmupsteps"}> 100 </parameter>
      <parameter name=\textcolor{stringliteral}{"timestep"}>  0.1  </parameter>
      <parameter name=\textcolor{stringliteral}{"samplesperthread"}>  100 </parameter>
      <parameter name=\textcolor{stringliteral}{"stepsbetweensamples"}>  10 </parameter>
      <parameter name=\textcolor{stringliteral}{"minwalkers"}>  0.0 </parameter>
      <!-- mainly variance optimization -->
      <cost name=\textcolor{stringliteral}{"energy"}>                   0.1 </cost>
      <cost name=\textcolor{stringliteral}{"unreweightedvariance"}>     0.0 </cost>
      <cost name=\textcolor{stringliteral}{"reweightedvariance"}>       0.9 </cost>
      <parameter name=\textcolor{stringliteral}{"bigchange"}>10.0</parameter>
      <parameter name=\textcolor{stringliteral}{"alloweddifference"}> 1.0e-4 </parameter>
    </qmc>
  </loop>
  <loop max=\textcolor{stringliteral}{"4"}>
   <qmc method=\textcolor{stringliteral}{"linear"} move=\textcolor{stringliteral}{"pbyp"} gpu=\textcolor{stringliteral}{"no"} checkpoint=\textcolor{stringliteral}{"-1"}>
      <parameter name=\textcolor{stringliteral}{"blocks"}>  20   </parameter>
      <parameter name=\textcolor{stringliteral}{"warmupsteps"}> 100 </parameter>
      <parameter name=\textcolor{stringliteral}{"timestep"}>  0.1  </parameter>
      <parameter name=\textcolor{stringliteral}{"samplesperthread"}>  200 </parameter>
      <parameter name=\textcolor{stringliteral}{"stepsbetweensamples"}>  10 </parameter>
      <parameter name=\textcolor{stringliteral}{"minwalkers"}>  0.0 </parameter>
      <!-- mainly energy optimization -->
      <cost name=\textcolor{stringliteral}{"energy"}>                   0.9 </cost>
      <cost name=\textcolor{stringliteral}{"unreweightedvariance"}>     0.0 </cost>
      <cost name=\textcolor{stringliteral}{"reweightedvariance"}>       0.1 </cost>
      <parameter name=\textcolor{stringliteral}{"bigchange"}>10.0</parameter>
      <parameter name=\textcolor{stringliteral}{"alloweddifference"}> 1.0e-4 </parameter>
    </qmc>
  </loop>
  <qmc method=\textcolor{stringliteral}{"vmc"} move=\textcolor{stringliteral}{"pbyp"} checkpoint=\textcolor{stringliteral}{"-1"}>
    <parameter name=\textcolor{stringliteral}{"blocks"}>100</parameter>
    <parameter name=\textcolor{stringliteral}{"steps"}>10</parameter>
    <parameter name=\textcolor{stringliteral}{"samples"}>2080</parameter>
    <parameter name=\textcolor{stringliteral}{"timestep"}>0.2</parameter>
    <parameter name=\textcolor{stringliteral}{"warmupsteps"}> 100 </parameter>
  </qmc>
  <qmc method=\textcolor{stringliteral}{"dmc"} move=\textcolor{stringliteral}{"pbyp"} checkpoint=\textcolor{stringliteral}{"-1"}>
    <parameter name=\textcolor{stringliteral}{"blocks"}>100</parameter>
    <parameter name=\textcolor{stringliteral}{"steps"}>200</parameter>
    <parameter name=\textcolor{stringliteral}{"timestep"}>1.0e-3</parameter>
    <parameter name=\textcolor{stringliteral}{"warmupsteps"}> 100 </parameter>
  </qmc>
</simulation>
\end{DoxyCode}


Note that problem-\/dependent elements are defined in external xml files, e.\-g., ptcl.\-xml, and are included via {\ttfamily include} element in this example. 